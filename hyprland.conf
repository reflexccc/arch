# Learn how to configure Hyprland: https://wiki.hyprland.org/Configuring/

# Use defaults Omarchy defaults (but don't edit these directly!)
#source = ~/.local/share/omarchy/default/hypr/autostart.conf
#source = ~/.local/share/omarchy/default/hypr/bindings/media.conf
#source = ~/.local/share/omarchy/default/hypr/bindings/tiling.conf
#source = ~/.local/share/omarchy/default/hypr/bindings/utilities.conf
#source = ~/.local/share/omarchy/default/hypr/envs.conf
#source = ~/.local/share/omarchy/default/hypr/looknfeel.conf
#source = ~/.local/share/omarchy/default/hypr/input.conf
#source = ~/.local/share/omarchy/default/hypr/windows.conf
#source = ~/.config/omarchy/current/theme/hyprland.conf

# Change your own setup in these files (and overwrite any settings from defaults!)
#source = ~/.config/hypr/monitors.conf
#source = ~/.config/hypr/input.conf
#source = ~/.config/hypr/bindings.conf
#source = ~/.config/hypr/envs.conf
#source = ~/.config/hypr/looknfeel.conf
#source = ~/.config/hypr/autostart.conf

# Environment variables
env = XCURSOR_SIZE,24
env = HYPRCURSOR_SIZE,24

env = NVD_BACKEND,direct
env = LIBVA_DRIVER_NAME,nvidia
env = __GLX_VENDOR_LIBRARY_NAME,nvidia
env = GDK_BACKEND,wayland,x11,*
env = QT_QPA_PLATFORM,wayland;xcb
env = QT_STYLE_OVERRIDE,kvantum
env = SDL_VIDEODRIVER,wayland
env = MOZ_ENABLE_WAYLAND,1
env = ELECTRON_OZONE_PLATFORM_HINT,wayland
env = OZONE_PLATFORM,wayland
env = XDG_SESSION_TYPE,wayland

env = XDG_CURRENT_DESKTOP,Hyprland
env = XDG_SESSION_DESKTOP,Hyprland

monitor=DP-1, 3440x1440@165, 0x0, 1.6

$terminal=uwsm app -- $TERMINAL
$browser=zen-browser
$mainMod=SUPER
$osdclient=swayosd-client --monitor "$(hyprctl monitors -j | jq -r '.[] | select(.focused == true).name')"

# Startup
exec-once = uwsm-app -- hypridle
exec-once = uwsm-app -- mako
exec-once = uwsm-app -- waybar
exec-once = uwsm-app -- fcitx5
exec-once = uwsm-app -- swaybg -i ~/.config/omarchy/current/background -m fill
exec-once = uwsm-app -- swayosd-server
exec-once = /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1
exec-once = omarchy-cmd-first-run
exec-once = uwsm-app -- elephant
exec-once = uwsm-app -- walker --gapplication-service
exec-once = [workspace 1 silent] zen-browser 
exec-once = [workspace 2 silent] alacritty

input {
  # neo
  kb_layout=de
  kb_variant = neo
  kb_options = compose:caps

  follow_mouse = 1
  numlock_by_default = 1

  touchpad {
    natural_scroll = true
    tap-to-click = true
    drag_lock = true
    disable_while_typing = true
    scroll_factor = 0.3
  }
  touchdevice{
    transform = 1
    output = DP-1
    enabled = false
  }
  tablet {
    output=eDP-1
  }

  cursor {
    #hide_on_touch=false
  }

  sensitivity = -0.6 # -1.0 - 1.0, 0 means no modification
}

misc {
  disable_hyprland_logo = true
  disable_splash_rendering = true
  mouse_move_enables_dpms = true
  #no_direct_scanout = true #for fullscreen games
  vfr = true
}

binds {
  workspace_back_and_forth = true
}

general {
  # See https://wiki.hyprland.org/Configuring/Variables/ for more

  gaps_in = 4
  gaps_out = 6
  border_size = 3
  #sensitivity = 1.5

  col.active_border = rgb(236,236,236)
  col.inactive_border = rgb(51,51,51)

  no_focus_fallback = true

  layout = dwindle
}

decoration {
    # See https://wiki.hyprland.org/Configuring/Variables/ for more

    rounding = 5
    active_opacity = 1
    inactive_opacity = 1

    blur {
        enabled = false
        size = 3
        passes = 1
    }
}

blurls = waybar

animations {
  enabled = true

  bezier = myBezier, 0, 0, 0, 1

  animation = workspaces, 1, 10, myBezier
  animation = windows, 1, 10, myBezier
  animation = border, 1, 10, default
  animation = fade, 1, 10, default
}

dwindle {
  pseudotile = true
  preserve_split = true
}

master {
  mfact = 0.5
}

# Windowrules v2
windowrulev2 = opacity 1, nofocus: 0
windowrulev2 = size 750 400, floating: 1

windowrulev2 = workspace 1, class:(obsidian)
windowrulev2 = fullscreen, class:(obsidian)
windowrulev2 = opacity 0.80, class:(obsidian)

windowrulev2 = opacity 1, class:(firefox)

windowrulev2 = opacity 0.80, class:(Alacritty)

#windowrulev2 = float, class:(org.kde.dolphin)
#windowrulev2 = size 750 400, class:(org.kde.dolphin)
#windowrulev2 = move 828 480, class:(org.kde.dolphin)

# Menus
bindd = SUPER, SPACE, Launch apps, exec, omarchy-launch-walker
bindd = SUPER ALT, SPACE, Omarchy menu, exec, omarchy-menu
bindd = SUPER, ESCAPE, Power menu, exec, omarchy-menu system
bindd = SUPER CTRL, SPACE, Next background in theme, exec, omarchy-theme-bg-next
bindd = SUPER SHIFT CTRL, SPACE, Pick new theme, exec, omarchy-menu theme

# Apps
bindd = $mainMod, RETURN, Terminal, exec, $terminal
bindd = $mainMod, F, File manager, exec, $fileManager
bindd = $mainMod, B, Web browser, exec, $browser
bindd = $mainMod, M, Music player, exec, $music
bindd = $mainMod, C, vscodium, exec, vscodium
bindd = $mainMod, SLASH, Password manager, exec, $passwordManager
bindd = $mainMod, F, Force full screen, fullscreen, 0
bindd = $mainMod, K, Close active window, killactive,

# F-Tasten
bindeld = ,F3, Volume up, exec, $osdclient --output-volume raise,
bindeld = ,F2, Volume down, exec, $osdclient --output-volume lower,
bindeld = ,F1, Mute, exec, $osdclient --output-volume mute-toggle,
bindeld = ,F5, Brightness up, exec, $osdclient --brightness raise,
bindeld = ,F6, Brightness down, exec, $osdclient --brightness lower,

bind = $mainMod CTRL, Return, layoutmsg, swapwithmaster

# Resize
binde = $mainMod CTRL, N, resizeactive,-50 0
binde = $mainMod CTRL, R, resizeactive,50 0
binde = $mainMod CTRL, T, resizeactive,0 -50
binde = $mainMod CTRL, D, resizeactive,0 50

# Move
bind = $mainMod SHIFT, N, movewindow, l
bind = $mainMod SHIFT, R, movewindow, r
bind = $mainMod SHIFT, T, movewindow, u
bind = $mainMod SHIFT, D, movewindow, d

# Move focus with mainMod + arrow keys
bind = $mainMod, N, movefocus, l
bind = $mainMod, R, movefocus, r
bind = $mainMod, T, movefocus, u
bind = $mainMod, D, movefocus, d

# Scroll through existing workspaces with mainMod + scroll
bind = $mainMod, right, workspace, e+1
bind = $mainMod, left, workspace, e-1
bind = $mainMod, G, workspace, e+1
bind = $mainMod, H, workspace, e-1

# Move/resize windows with mainMod + LMB/RMB and dragging
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

# Screenshot keybindings
bind = $mainMod, Print, exec, flameshot gui

# Switch workspaces with mainMod + [0-9]
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3

# Move active window and follow to workspace
bind = $mainMod CTRL, 1, movetoworkspace, 1
bind = $mainMod CTRL, 2, movetoworkspace, 2
bind = $mainMod CTRL, 3, movetoworkspace, 3

# Move active window to a workspace with mainMod + SHIFT + [0-9]
bind = $mainMod SHIFT, 1, movetoworkspacesilent, 1
bind = $mainMod SHIFT, 2, movetoworkspacesilent, 2
bind = $mainMod SHIFT, 3, movetoworkspacesilent, 3

# App-specific tweaks
source = ~/.local/share/omarchy/default/hypr/apps/1password.conf
source = ~/.local/share/omarchy/default/hypr/apps/bitwarden.conf
source = ~/.local/share/omarchy/default/hypr/apps/browser.conf
source = ~/.local/share/omarchy/default/hypr/apps/hyprshot.conf
source = ~/.local/share/omarchy/default/hypr/apps/jetbrains.conf
source = ~/.local/share/omarchy/default/hypr/apps/localsend.conf
source = ~/.local/share/omarchy/default/hypr/apps/pip.conf
source = ~/.local/share/omarchy/default/hypr/apps/qemu.conf
source = ~/.local/share/omarchy/default/hypr/apps/retroarch.conf
source = ~/.local/share/omarchy/default/hypr/apps/steam.conf
source = ~/.local/share/omarchy/default/hypr/apps/system.conf
source = ~/.local/share/omarchy/default/hypr/apps/terminals.conf
source = ~/.local/share/omarchy/default/hypr/apps/walker.conf
source = ~/.local/share/omarchy/default/hypr/apps/webcam-overlay.conf
